---
// Determine current page for navigation highlighting
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1); // Remove leading slash
---

<nav>
  <div
    class="flex justify-between items-center bg-[#fff9f2] py-10 font-medium text-montserrat px-4 sm:px-[5vw] md:px-[7vw] lg:px-[9vw]"
  >
    <h1 class="text-4xl text-kanit font-medium text-[#097850] cursor-pointer">
      HIRENEST
    </h1>
    <ul class="hidden sm:flex gap-10 text-black font-bold">
      <li class="cursor-pointer">
        <a href="/" class={currentPath === "" ? "active" : ""}>HOME</a>
      </li>
      <li class="cursor-pointer">
        <a href="/about" class={currentPath === "about" ? "active" : ""}>
          ABOUT
        </a>
      </li>
      <li class="cursor-pointer">
        <a
          href="/employers"
          class={currentPath === "employers" ? "active" : ""}
        >
          EMPLOYERS
        </a>
      </li>
      <li class="cursor-pointer">
        <a
          href="/jobseekers"
          class={currentPath === "jobseekers" ? "active" : ""}
        >
          JOBSEEKERS
        </a>
      </li>
      <li class="cursor-pointer">
        <a href="/contact" class={currentPath === "contact" ? "active" : ""}>
          CONTACT
        </a>
      </li>
    </ul>
    <button class="sm:hidden cursor-pointer" id="menu_icon" aria-label="Menu">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="32"
        height="32"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        class="w-8 h-8"
      >
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
  </div>
  <div
    class="sidebar_menu absolute top-0 right-0 bottom-0 overflow-hidden bg-white w-0 transition-all duration-400 cursor-pointer"
  >
    <div class="flex flex-col text-gray-600">
      <button
        class="flex items-center gap-2 p-3 cursor-pointer"
        id="back_icon"
        aria-label="Close menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          class="w-6 h-6"
        >
          <path d="M18 6L6 18M6 6l12 12"></path>
        </svg>
        <span class="pt-1">Back</span>
      </button>
      <p class="py-2 pl-6 border-t border-gray-300">
        <a href="/" class={currentPath === "" ? "active" : ""}>HOME</a>
      </p>
      <p class="py-2 pl-6 border-t border-gray-300">
        <a href="/about" class={currentPath === "about" ? "active" : ""}
          >ABOUT</a
        >
      </p>
      <p class="py-2 pl-6 border-t border-gray-300">
        <a href="/employers" class={currentPath === "employers" ? "active" : ""}
          >EMPLOYERS</a
        >
      </p>
      <p class="py-2 pl-6 border-t border-gray-300">
        <a
          href="/jobseekers"
          class={currentPath === "jobseekers" ? "active" : ""}>JOBSEEKERS</a
        >
      </p>
      <p class="py-2 pl-6 border-t last:border-b border-gray-300">
        <a href="/contact" class={currentPath === "contact" ? "active" : ""}
          >CONTACT</a
        >
      </p>
    </div>
  </div>
</nav>

<script>
  const menuIcon = document.querySelector("#menu_icon");
  const backIcon = document.querySelector("#back_icon");
  const menu = document.querySelector(".sidebar_menu");

  menuIcon?.addEventListener("click", () => {
    menu?.classList.toggle("active");
  });

  backIcon?.addEventListener("click", () => {
    menu?.classList.toggle("active");
  });
</script>
